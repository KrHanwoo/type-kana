var Qn=Object.defineProperty,Xn=Object.defineProperties;var Un=Object.getOwnPropertyDescriptors;var sn=Object.getOwnPropertySymbols;var Yn=Object.prototype.hasOwnProperty,Kn=Object.prototype.propertyIsEnumerable;var an=(n,e,t)=>e in n?Qn(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ht=(n,e)=>{for(var t in e||(e={}))Yn.call(e,t)&&an(n,t,e[t]);if(sn)for(var t of sn(e))Kn.call(e,t)&&an(n,t,e[t]);return n},Nt=(n,e)=>Xn(n,Un(e));import{S as ke,i as we,s as ze,e as T,t as U,c as I,a as L,h as Y,d as b,b as f,g as N,K as m,j as st,k as j,m as P,Y as te,E as Ke,_ as K,w as O,x as V,y as R,q as E,o as A,B as H,l as ln,n as Re,p as He,W as un,P as qe,$ as J,a0 as Z,a1 as Ne,L as W,a2 as Wn,G as at,a3 as lt,v as ut,a4 as zn,a5 as xe,f as cn,X as $n,a6 as Xt,I as Fn,a7 as fn,M as Gn,N as Jn,O as Zn,H as xn,J as er,Q as tr,D as nr}from"../../chunks/index-7f1c3d66.js";import{g as et,i as tt,l as rr,p as or,a as yn,c as nt,f as rt,b as ir,t as sr,d as ar,e as lr,M as ur,h as cr,j as fr,k as dr,m as mr,n as hr,q as Ze,o as pr,r as gr,s as vr}from"../../chunks/quiz-d9b00f48.js";import{s as ee}from"../../chunks/settings-121f1947.js";import{M as pe,b as _r,c as br,d as kr,e as En,f as wr,g as zr,h as $r,i as yr,j as Er,k as qr,B as Cr}from"../../chunks/Button-8ee2eaaf.js";import{p as Sr,o as Ar}from"../../chunks/stores-5ce123b6.js";import{R as Ve,C as Xe}from"../../chunks/Radio-c41d3c38.js";import{c as Ce,_ as Tr}from"../../chunks/singletons-d6e4a54a.js";import{P as Ir,c as Mr}from"../../chunks/confetti-917e2ded.js";import"../../chunks/audio-a1355b49.js";import"../../chunks/index-76f9cd11.js";function dn(n){let e,t=et(n[1])[0]+"",r;return{c(){e=T("div"),r=U(t),this.h()},l(o){e=I(o,"DIV",{class:!0});var i=L(e);r=Y(i,t),i.forEach(b),this.h()},h(){f(e,"class","furigana svelte-zz9le")},m(o,i){N(o,e,i),m(e,r)},p(o,i){i&2&&t!==(t=et(o[1])[0]+"")&&st(r,t)},d(o){o&&b(e)}}}function Dr(n){let e,t,r,o,i=n[4]&&dn(n);return{c(){e=T("div"),t=T("div"),r=U(n[1]),o=j(),i&&i.c(),this.h()},l(s){e=I(s,"DIV",{class:!0});var a=L(e);t=I(a,"DIV",{class:!0});var l=L(t);r=Y(l,n[1]),l.forEach(b),o=P(a),i&&i.l(a),a.forEach(b),this.h()},h(){f(t,"class","kana svelte-zz9le"),f(e,"class","quiz-item svelte-zz9le"),te(e,"has-answer",n[3]),te(e,"is-correct",n[5]),te(e,"is-incorrect",n[4]),te(e,"is-current",n[2])},m(s,a){N(s,e,a),m(e,t),m(t,r),m(e,o),i&&i.m(e,null),n[8](e)},p(s,[a]){a&2&&st(r,s[1]),s[4]?i?i.p(s,a):(i=dn(s),i.c(),i.m(e,null)):i&&(i.d(1),i=null),a&8&&te(e,"has-answer",s[3]),a&32&&te(e,"is-correct",s[5]),a&16&&te(e,"is-incorrect",s[4]),a&4&&te(e,"is-current",s[2])},i:Ke,o:Ke,d(s){s&&b(e),i&&i.d(),n[8](null)}}}function jr(n,e,t){let r,o,i,{kana:s}=e,{answered:a=void 0}=e,{isCorrectAnswer:l=void 0}=e,{isCurrent:u=!1}=e,{element:_=void 0}=e;function g(h){K[h?"unshift":"push"](()=>{_=h,t(0,_)})}return n.$$set=h=>{"kana"in h&&t(1,s=h.kana),"answered"in h&&t(6,a=h.answered),"isCorrectAnswer"in h&&t(7,l=h.isCorrectAnswer),"isCurrent"in h&&t(2,u=h.isCurrent),"element"in h&&t(0,_=h.element)},n.$$.update=()=>{n.$$.dirty&64&&t(3,r=a!==void 0),n.$$.dirty&136&&t(5,o=r?l:!1),n.$$.dirty&136&&t(4,i=r?!l:!1)},[_,s,u,r,i,o,a,l,g]}class ct extends ke{constructor(e){super(),we(this,e,jr,Dr,ze,{kana:1,answered:6,isCorrectAnswer:7,isCurrent:2,element:0})}}function mn(n,e,t){const r=n.slice();return r[11]=e[t].kana,r[12]=e[t].answered,r[13]=e[t].isCorrectAnswer,r[15]=t,r}function hn(n,e,t){const r=n.slice();return r[11]=e[t].kana,r}function pn(n){let e,t;return e=new ct({props:{kana:n[11]}}),{c(){O(e.$$.fragment)},l(r){V(e.$$.fragment,r)},m(r,o){R(e,r,o),t=!0},p(r,o){const i={};o&16&&(i.kana=r[11]),e.$set(i)},i(r){t||(E(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){H(e,r)}}}function gn(n){let e,t;return e=new ct({props:{kana:n[1].kana,isCurrent:!0}}),{c(){O(e.$$.fragment)},l(r){V(e.$$.fragment,r)},m(r,o){R(e,r,o),t=!0},p(r,o){const i={};o&2&&(i.kana=r[1].kana),e.$set(i)},i(r){t||(E(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){H(e,r)}}}function Pr(n){let e,t,r;function o(s){n[8](s)}let i={kana:n[11],answered:n[12],isCorrectAnswer:n[13]};return n[0]!==void 0&&(i.element=n[0]),e=new ct({props:i}),K.push(()=>J(e,"element",o)),{c(){O(e.$$.fragment)},l(s){V(e.$$.fragment,s)},m(s,a){R(e,s,a),r=!0},p(s,a){const l={};a&8&&(l.kana=s[11]),a&8&&(l.answered=s[12]),a&8&&(l.isCorrectAnswer=s[13]),!t&&a&1&&(t=!0,l.element=s[0],Z(()=>t=!1)),e.$set(l)},i(s){r||(E(e.$$.fragment,s),r=!0)},o(s){A(e.$$.fragment,s),r=!1},d(s){H(e,s)}}}function Br(n){let e,t;return e=new ct({props:{kana:n[11],answered:n[12],isCorrectAnswer:n[13]}}),{c(){O(e.$$.fragment)},l(r){V(e.$$.fragment,r)},m(r,o){R(e,r,o),t=!0},p(r,o){const i={};o&8&&(i.kana=r[11]),o&8&&(i.answered=r[12]),o&8&&(i.isCorrectAnswer=r[13]),e.$set(i)},i(r){t||(E(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){H(e,r)}}}function vn(n){let e,t,r,o;const i=[Br,Pr],s=[];function a(l,u){return l[15]!==0?0:1}return e=a(n),t=s[e]=i[e](n),{c(){t.c(),r=ln()},l(l){t.l(l),r=ln()},m(l,u){s[e].m(l,u),N(l,r,u),o=!0},p(l,u){t.p(l,u)},i(l){o||(E(t),o=!0)},o(l){A(t),o=!1},d(l){s[e].d(l),l&&b(r)}}}function Lr(n){let e,t,r,o,i,s,a,l,u,_,g,h=[...n[4]].slice(0,15),k=[];for(let p=0;p<h.length;p+=1)k[p]=pn(hn(n,h,p));const $=p=>A(k[p],1,1,()=>{k[p]=null});let y=n[1]&&gn(n),S=n[3],M=[];for(let p=0;p<S.length;p+=1)M[p]=vn(mn(n,S,p));const X=p=>A(M[p],1,1,()=>{M[p]=null});return u=new pe({props:{path:_r}}),{c(){e=T("section"),t=T("div");for(let p=0;p<k.length;p+=1)k[p].c();r=j(),o=T("div"),y&&y.c(),i=j(),s=T("div");for(let p=0;p<M.length;p+=1)M[p].c();a=j(),l=T("div"),O(u.$$.fragment),this.h()},l(p){e=I(p,"SECTION",{class:!0});var z=L(e);t=I(z,"DIV",{class:!0});var d=L(t);for(let q=0;q<k.length;q+=1)k[q].l(d);d.forEach(b),r=P(z),o=I(z,"DIV",{class:!0});var Q=L(o);y&&y.l(Q),Q.forEach(b),i=P(z),s=I(z,"DIV",{class:!0});var F=L(s);for(let q=0;q<M.length;q+=1)M[q].l(F);F.forEach(b),a=P(z),l=I(z,"DIV",{class:!0,"aria-hidden":!0});var v=L(l);V(u.$$.fragment,v),v.forEach(b),z.forEach(b),this.h()},h(){f(t,"class","kana-queue svelte-12608ln"),f(o,"class","current-kana svelte-12608ln"),f(s,"class","kana-quizzed svelte-12608ln"),f(l,"class","error-marker svelte-12608ln"),f(l,"aria-hidden",_=!n[2]),te(l,"visible",n[2]),f(e,"class","quiz svelte-12608ln")},m(p,z){N(p,e,z),m(e,t);for(let d=0;d<k.length;d+=1)k[d].m(t,null);m(e,r),m(e,o),y&&y.m(o,null),m(e,i),m(e,s);for(let d=0;d<M.length;d+=1)M[d].m(s,null);m(e,a),m(e,l),R(u,l,null),g=!0},p(p,[z]){if(z&16){h=[...p[4]].slice(0,15);let d;for(d=0;d<h.length;d+=1){const Q=hn(p,h,d);k[d]?(k[d].p(Q,z),E(k[d],1)):(k[d]=pn(Q),k[d].c(),E(k[d],1),k[d].m(t,null))}for(Re(),d=h.length;d<k.length;d+=1)$(d);He()}if(p[1]?y?(y.p(p,z),z&2&&E(y,1)):(y=gn(p),y.c(),E(y,1),y.m(o,null)):y&&(Re(),A(y,1,1,()=>{y=null}),He()),z&9){S=p[3];let d;for(d=0;d<S.length;d+=1){const Q=mn(p,S,d);M[d]?(M[d].p(Q,z),E(M[d],1)):(M[d]=vn(Q),M[d].c(),E(M[d],1),M[d].m(s,null))}for(Re(),d=S.length;d<M.length;d+=1)X(d);He()}(!g||z&4&&_!==(_=!p[2]))&&f(l,"aria-hidden",_),z&4&&te(l,"visible",p[2])},i(p){if(!g){for(let z=0;z<h.length;z+=1)E(k[z]);E(y);for(let z=0;z<S.length;z+=1)E(M[z]);E(u.$$.fragment,p),g=!0}},o(p){k=k.filter(Boolean);for(let z=0;z<k.length;z+=1)A(k[z]);A(y),M=M.filter(Boolean);for(let z=0;z<M.length;z+=1)A(M[z]);A(u.$$.fragment,p),g=!1},d(p){p&&b(e),un(k,p),y&&y.d(),un(M,p),H(u)}}}function Or(n,e,t){let r,o,i,s,a;qe(n,ee,$=>t(9,a=$));let{unquizzed:l}=e,{quizzed:u}=e,{input:_=""}=e,{lastQuizzedElement:g}=e;function h($,y){return a.showErrorMarker&&$&&(y==null?void 0:y.length)>0&&a.autoCommit!=="strict"?!et($).some(S=>S.startsWith(y)):!1}function k($){g=$,t(0,g)}return n.$$set=$=>{"unquizzed"in $&&t(5,l=$.unquizzed),"quizzed"in $&&t(6,u=$.quizzed),"input"in $&&t(7,_=$.input),"lastQuizzedElement"in $&&t(0,g=$.lastQuizzedElement)},n.$$.update=()=>{n.$$.dirty&32&&t(4,r=l.slice(1)),n.$$.dirty&64&&t(3,o=[...u].reverse().slice(0,15)),n.$$.dirty&32&&t(1,i=l[0]),n.$$.dirty&130&&t(2,s=h(i==null?void 0:i.kana,_))},[g,i,s,o,r,l,u,_,k]}class Vr extends ke{constructor(e){super(),we(this,e,Or,Lr,ze,{unquizzed:5,quizzed:6,input:7,lastQuizzedElement:0})}}function Rr(n){let e,t,r,o,i;return t=new pe({props:{size:"0.75em",path:br,color:"var(--accent-color)",ariaHidden:!0}}),{c(){e=T("button"),O(t.$$.fragment),this.h()},l(s){e=I(s,"BUTTON",{type:!0,class:!0,title:!0});var a=L(e);V(t.$$.fragment,a),a.forEach(b),this.h()},h(){f(e,"type","button"),f(e,"class","button svelte-14mph9x"),f(e,"title","Auto submit active. Tap to disable.")},m(s,a){N(s,e,a),R(t,e,null),r=!0,o||(i=W(e,"click",n[9]),o=!0)},p:Ke,i(s){r||(E(t.$$.fragment,s),r=!0)},o(s){A(t.$$.fragment,s),r=!1},d(s){s&&b(e),H(t),o=!1,i()}}}function Hr(n){let e,t,r;return t=new pe({props:{size:"1em",path:kr,ariaHidden:!0}}),{c(){e=T("button"),O(t.$$.fragment),this.h()},l(o){e=I(o,"BUTTON",{type:!0,class:!0,title:!0});var i=L(e);V(t.$$.fragment,i),i.forEach(b),this.h()},h(){f(e,"type","submit"),f(e,"class","button svelte-14mph9x"),f(e,"title","Submit")},m(o,i){N(o,e,i),R(t,e,null),r=!0},p:Ke,i(o){r||(E(t.$$.fragment,o),r=!0)},o(o){A(t.$$.fragment,o),r=!1},d(o){o&&b(e),H(t)}}}function Nr(n){let e,t,r,o,i,s,a,l;const u=[Hr,Rr],_=[];function g(h,k){return h[3].autoCommit==="disabled"?0:1}return o=g(n),i=_[o]=u[o](n),{c(){e=T("form"),t=T("input"),r=j(),i.c(),this.h()},l(h){e=I(h,"FORM",{class:!0});var k=L(e);t=I(k,"INPUT",{type:!0,class:!0,placeholder:!0,lang:!0,autocapitalize:!0,autocomplete:!0,autocorrect:!0,spellcheck:!0}),r=P(k),i.l(k),k.forEach(b),this.h()},h(){f(t,"type","text"),f(t,"class","text-field svelte-14mph9x"),f(t,"placeholder","your answer"),f(t,"lang","ja"),f(t,"autocapitalize","none"),f(t,"autocomplete","off"),f(t,"autocorrect","off"),f(t,"spellcheck",!1),f(e,"class","answer-input content-width svelte-14mph9x"),te(e,"shake-animation-playing",n[2])},m(h,k){N(h,e,k),m(e,t),Ne(t,n[0]),n[8](t),m(e,r),_[o].m(e,null),s=!0,a||(l=[W(t,"input",n[7]),W(t,"input",n[5]),W(e,"submit",Wn(n[4])),W(e,"animationend",n[10])],a=!0)},p(h,[k]){k&1&&t.value!==h[0]&&Ne(t,h[0]);let $=o;o=g(h),o===$?_[o].p(h,k):(Re(),A(_[$],1,1,()=>{_[$]=null}),He(),i=_[o],i?i.p(h,k):(i=_[o]=u[o](h),i.c()),E(i,1),i.m(e,null)),k&4&&te(e,"shake-animation-playing",h[2])},i(h){s||(E(i),s=!0)},o(h){A(i),s=!1},d(h){h&&b(e),n[8](null),_[o].d(),a=!1,at(l)}}}const Qr=/^\s+$/;function Xr(n){const e=["insertCompositionText","deleteCompositionText"];return n.isComposing||e.includes(n.inputType)}function Ur(n,e,t){let r;qe(n,ee,S=>t(3,r=S));let{input:o=""}=e,{currentKana:i=null}=e,{inputElement:s}=e;const a=lt();let l=!1,u=!1;function _(){if(o==="")return;if(!tt(o,i)){if(l)return;t(2,u=!0),r.autoCommit==="strict"&&r.mistakeDelayMs!==0&&(l=!0,setTimeout(()=>l=!1,r.mistakeDelayMs))}a("submit",{input:o}),t(0,o="")}function g(S){if(Xr(S)||i===null||S.data===null)return;if(t(0,o=o.trim()),Qr.test(S.data)){_();return}const M=et(i);(r.autoCommit!=="disabled"&&tt(o,i)||r.autoCommit==="strict"&&!M.some(X=>X.startsWith(o)))&&_()}function h(){o=this.value,t(0,o)}function k(S){K[S?"unshift":"push"](()=>{s=S,t(1,s)})}const $=()=>ee.set(Nt(Ht({},r),{autoCommit:"disabled"})),y=()=>t(2,u=!1);return n.$$set=S=>{"input"in S&&t(0,o=S.input),"currentKana"in S&&t(6,i=S.currentKana),"inputElement"in S&&t(1,s=S.inputElement)},[o,s,u,r,_,g,i,h,k,$,y]}class Yr extends ke{constructor(e){super(),we(this,e,Ur,Nr,ze,{input:0,currentKana:6,inputElement:1})}}function Kr(n){let e,t,r,o,i,s,a,l,u,_,g,h,k,$,y,S,M,X;return r=new pe({props:{path:En}}),a=new pe({props:{path:wr}}),h=new pe({props:{path:zr}}),y=new pe({props:{path:$r}}),{c(){e=T("section"),t=T("a"),O(r.$$.fragment),o=j(),i=T("button"),s=T("span"),O(a.$$.fragment),l=j(),u=T("button"),_=T("span"),g=T("span"),O(h.$$.fragment),k=j(),$=T("a"),O(y.$$.fragment),this.h()},l(p){e=I(p,"SECTION",{class:!0});var z=L(e);t=I(z,"A",{href:!0,class:!0,title:!0,"sveltekit:prefetch":!0});var d=L(t);V(r.$$.fragment,d),d.forEach(b),o=P(z),i=I(z,"BUTTON",{type:!0,class:!0,title:!0});var Q=L(i);s=I(Q,"SPAN",{class:!0});var F=L(s);V(a.$$.fragment,F),F.forEach(b),Q.forEach(b),l=P(z),u=I(z,"BUTTON",{type:!0,class:!0,title:!0});var v=L(u);_=I(v,"SPAN",{class:!0});var q=L(_);g=I(q,"SPAN",{class:!0});var x=L(g);V(h.$$.fragment,x),x.forEach(b),q.forEach(b),v.forEach(b),k=P(z),$=I(z,"A",{href:!0,class:!0,title:!0});var ne=L($);V(y.$$.fragment,ne),ne.forEach(b),z.forEach(b),this.h()},h(){f(t,"href","setup"),f(t,"class","button svelte-1v6u0h3"),f(t,"title","Go back"),f(t,"sveltekit:prefetch",""),f(s,"class","tilt-animation-container svelte-1v6u0h3"),f(i,"type","button"),f(i,"class","button tilt svelte-1v6u0h3"),f(i,"title","Open game settings"),f(g,"class","reset-animation-container svelte-1v6u0h3"),f(_,"class","tilt-animation-container svelte-1v6u0h3"),f(u,"type","button"),f(u,"class","button tilt svelte-1v6u0h3"),f(u,"title","Restart quiz"),te(u,"reset-animation-playing",n[0]),f($,"href","/summary"),f($,"class","button svelte-1v6u0h3"),f($,"title","Finish session"),f(e,"class","menu svelte-1v6u0h3")},m(p,z){N(p,e,z),m(e,t),R(r,t,null),m(e,o),m(e,i),m(i,s),R(a,s,null),m(e,l),m(e,u),m(u,_),m(_,g),R(h,g,null),m(e,k),m(e,$),R(y,$,null),S=!0,M||(X=[W(i,"click",n[2]),W(g,"animationend",n[3]),W(u,"click",n[4]),W($,"mouseenter",n[5])],M=!0)},p(p,[z]){z&1&&te(u,"reset-animation-playing",p[0])},i(p){S||(E(r.$$.fragment,p),E(a.$$.fragment,p),E(h.$$.fragment,p),E(y.$$.fragment,p),S=!0)},o(p){A(r.$$.fragment,p),A(a.$$.fragment,p),A(h.$$.fragment,p),A(y.$$.fragment,p),S=!1},d(p){p&&b(e),H(r),H(a),H(h),H(y),M=!1,at(X)}}}function Wr(n,e,t){const r=lt();let o=!1;function i(_){r("menuEvent",{type:_})}return ut(()=>{rr()}),[o,i,()=>{i("openSettings"),document.activeElement instanceof HTMLElement&&document.activeElement.blur()},()=>{t(0,o=!1)},()=>{i("restart"),or(),t(0,o=!0)},()=>{yn()}]}class Fr extends ke{constructor(e){super(),we(this,e,Wr,Kr,ze,{})}}function _n(n){let e,t=(typeof n[8]=="string"&&!["yes","true"].includes(n[8])?n[8].replace("[value]",n[0].toFixed(n[13])):n[0])+"",r,o,i;return{c(){e=T("div"),r=U(t),this.h()},l(s){e=I(s,"DIV",{class:!0,"aria-hidden":!0,style:!0});var a=L(e);r=Y(a,t),a.forEach(b),this.h()},h(){f(e,"class","tooltip svelte-172iqpa"),f(e,"aria-hidden","true"),f(e,"style",n[12])},m(s,a){N(s,e,a),m(e,r),i=!0},p(s,a){n=s,(!i||a&257)&&t!==(t=(typeof n[8]=="string"&&!["yes","true"].includes(n[8])?n[8].replace("[value]",n[0].toFixed(n[13])):n[0])+"")&&st(r,t),(!i||a&4096)&&f(e,"style",n[12])},i(s){i||(zn(()=>{o||(o=xe(e,rt,{duration:125,easing:nt},!0)),o.run(1)}),i=!0)},o(s){o||(o=xe(e,rt,{duration:125,easing:nt},!1)),o.run(0),i=!1},d(s){s&&b(e),s&&o&&o.end()}}}function Gr(n){let e,t,r,o,i,s,a=n[14]&&n[11]&&_n(n);return{c(){e=T("div"),a&&a.c(),t=j(),r=T("input"),this.h()},l(l){e=I(l,"DIV",{class:!0});var u=L(e);a&&a.l(u),t=P(u),r=I(u,"INPUT",{type:!0,id:!0,min:!0,max:!0,step:!0,list:!0,class:!0}),u.forEach(b),this.h()},h(){f(r,"type","range"),f(r,"id",n[1]),f(r,"min",n[2]),f(r,"max",n[3]),f(r,"step",n[4]),f(r,"list",n[5]),f(r,"class","svelte-172iqpa"),cn(r,"width",n[6],!1),f(e,"class","range svelte-172iqpa"),te(e,"inline",n[7]||n[6]!=="100%")},m(l,u){N(l,e,u),a&&a.m(e,null),m(e,t),m(e,r),Ne(r,n[0]),n[21](r),o=!0,i||(s=[W(window,"resize",n[17],{passive:!0}),W(r,"change",n[20]),W(r,"input",n[20]),W(r,"input",n[18]),W(r,"mouseenter",n[15]),W(r,"mouseleave",n[16]),W(r,"focus",n[22]),W(r,"focusout",n[23]),W(r,"change",n[19])],i=!0)},p(l,[u]){l[14]&&l[11]?a?(a.p(l,u),u&2048&&E(a,1)):(a=_n(l),a.c(),E(a,1),a.m(e,t)):a&&(Re(),A(a,1,1,()=>{a=null}),He()),(!o||u&2)&&f(r,"id",l[1]),(!o||u&4)&&f(r,"min",l[2]),(!o||u&8)&&f(r,"max",l[3]),(!o||u&16)&&f(r,"step",l[4]),(!o||u&32)&&f(r,"list",l[5]),u&1&&Ne(r,l[0]),u&64&&cn(r,"width",l[6],!1),u&192&&te(e,"inline",l[7]||l[6]!=="100%")},i(l){o||(E(a),o=!0)},o(l){A(a),o=!1},d(l){l&&b(e),a&&a.d(),n[21](null),i=!1,at(s)}}}function Jr(n,e,t){let{id:r=void 0}=e,{value:o}=e,{min:i=0}=e,{max:s=100}=e,{step:a=1}=e,{list:l=void 0}=e,{width:u="100%"}=e,{inline:_=!1}=e,{tooltip:g=void 0}=e;const h=lt();let k,$=Number(a)<1?a.toString().split(".")[1].length:0,y=!["false","no"].includes(g.toString()),S=!1,M=!1,X="";function p(){y&&(d(),t(11,M=!0))}function z(){y&&!S&&t(11,M=!1)}function d(){if(y){const D=o/Number(s),ae=k.clientWidth,ge=18,oe=ge/2,$e=ae-ge,ye=oe+$e*D;t(12,X=`left: ${ye}px`)}}function Q(D){h("input",D.detail),p()}function F(D){$n.call(this,n,D)}function v(){o=Xt(this.value),t(0,o)}function q(D){K[D?"unshift":"push"](()=>{k=D,t(9,k)})}const x=()=>{t(10,S=!0),p()},ne=()=>{t(10,S=!1),z()};return n.$$set=D=>{"id"in D&&t(1,r=D.id),"value"in D&&t(0,o=D.value),"min"in D&&t(2,i=D.min),"max"in D&&t(3,s=D.max),"step"in D&&t(4,a=D.step),"list"in D&&t(5,l=D.list),"width"in D&&t(6,u=D.width),"inline"in D&&t(7,_=D.inline),"tooltip"in D&&t(8,g=D.tooltip)},[o,r,i,s,a,l,u,_,g,k,S,M,X,$,y,p,z,d,Q,F,v,q,x,ne]}class Zr extends ke{constructor(e){super(),we(this,e,Jr,Gr,ze,{id:1,value:0,min:2,max:3,step:4,list:5,width:6,inline:7,tooltip:8})}}Ce.disable_scroll_handling;const Qt=Ce.goto;Ce.invalidate;const xr=Ce.prefetch;Ce.prefetch_routes;Ce.before_navigate;Ce.after_navigate;function eo(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}var Ut=!1;if(typeof window!="undefined"){var bn={get passive(){Ut=!0}};window.addEventListener("testPassive",null,bn),window.removeEventListener("testPassive",null,bn)}var qn=typeof window!="undefined"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),be=[],ot=!1,Cn=-1,Ue=void 0,Ye=void 0,Sn=function(e){return be.some(function(t){return!!(t.options.allowTouchMove&&t.options.allowTouchMove(e))})},it=function(e){var t=e||window.event;return Sn(t.target)||t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)},to=function(e){if(Ye===void 0){var t=!!e&&e.reserveScrollBarGap===!0,r=window.innerWidth-document.documentElement.clientWidth;t&&r>0&&(Ye=document.body.style.paddingRight,document.body.style.paddingRight=r+"px")}Ue===void 0&&(Ue=document.body.style.overflow,document.body.style.overflow="hidden")},no=function(){Ye!==void 0&&(document.body.style.paddingRight=Ye,Ye=void 0),Ue!==void 0&&(document.body.style.overflow=Ue,Ue=void 0)},ro=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},oo=function(e,t){var r=e.targetTouches[0].clientY-Cn;return Sn(e.target)?!1:t&&t.scrollTop===0&&r>0||ro(t)&&r<0?it(e):(e.stopPropagation(),!0)},io=function(e,t){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!be.some(function(o){return o.targetElement===e})){var r={targetElement:e,options:t||{}};be=[].concat(eo(be),[r]),qn?(e.ontouchstart=function(o){o.targetTouches.length===1&&(Cn=o.targetTouches[0].clientY)},e.ontouchmove=function(o){o.targetTouches.length===1&&oo(o,e)},ot||(document.addEventListener("touchmove",it,Ut?{passive:!1}:void 0),ot=!0)):to(t)}},so=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}be=be.filter(function(t){return t.targetElement!==e}),qn?(e.ontouchstart=null,e.ontouchmove=null,ot&&be.length===0&&(document.removeEventListener("touchmove",it,Ut?{passive:!1}:void 0),ot=!1)):be.length||no()};function ao(n){return io(n),{destroy(){so(n)}}}function lo(n){let e,t,r,o,i;const s=n[7].default,a=Fn(s,n,n[6],null);return{c(){e=T("dialog"),a&&a.c(),this.h()},l(l){e=I(l,"DIALOG",{class:!0});var u=L(e);a&&a.l(u),u.forEach(b),this.h()},h(){e.open=n[0],f(e,"class","svelte-15n6brf")},m(l,u){N(l,e,u),a&&a.m(e,null),n[9](e),r=!0,o||(i=[fn(t=uo.call(null,e,n[10])),fn(ao.call(null,e)),W(e,"close",n[8])],o=!0)},p(l,[u]){a&&a.p&&(!r||u&64)&&Gn(a,s,l,l[6],r?Zn(s,l[6],u,null):Jn(l[6]),null),(!r||u&1)&&(e.open=l[0]),t&&xn(t.update)&&u&1&&t.update.call(null,l[10])},i(l){r||(E(a,l),r=!0)},o(l){A(a,l),r=!1},d(l){l&&b(e),a&&a.d(l),n[9](null),o=!1,at(i)}}}function uo(n,e){function t(r){r.target===n&&e(r)}return document.addEventListener("click",t,!0),{destroy(){document.removeEventListener("click",t,!0)}}}function co(n,e,t){let{$$slots:r={},$$scope:o}=e;const i=lt();let{open:s=!1}=e,a;function l(){t(0,s=!0),a.show()}function u(){t(0,s=!0),a.showModal()}function _(){t(0,s=!1),a.close()}ut(async()=>{(await Tr(()=>import("../../chunks/dialog-polyfill.esm-ff963e5c.js"),[])).default.registerDialog(a)});function g($){$n.call(this,n,$)}function h($){K[$?"unshift":"push"](()=>{a=$,t(1,a)})}const k=()=>s&&i("clickoutside");return n.$$set=$=>{"open"in $&&t(0,s=$.open),"$$scope"in $&&t(6,o=$.$$scope)},[s,a,i,l,u,_,o,r,g,h,k]}class fo extends ke{constructor(e){super(),we(this,e,co,lo,ze,{open:0,show:3,showModal:4,close:5})}get show(){return this.$$.ctx[3]}get showModal(){return this.$$.ctx[4]}get close(){return this.$$.ctx[5]}}function mo(n){let e;return{c(){e=U("Never")},l(t){e=Y(t,"Never")},m(t,r){N(t,e,r)},d(t){t&&b(e)}}}function ho(n){let e;return{c(){e=U("If correct answer")},l(t){e=Y(t,"If correct answer")},m(t,r){N(t,e,r)},d(t){t&&b(e)}}}function po(n){let e;return{c(){e=U("Always")},l(t){e=Y(t,"Always")},m(t,r){N(t,e,r)},d(t){t&&b(e)}}}function kn(n){let e,t,r,o,i,s,a,l,u;return{c(){e=T("div"),t=T("input"),r=j(),o=T("label"),i=U("Mistake delay (ms)"),this.h()},l(_){e=I(_,"DIV",{class:!0});var g=L(e);t=I(g,"INPUT",{id:!0,type:!0,min:!0,step:!0,max:!0,class:!0}),r=P(g),o=I(g,"LABEL",{for:!0,class:!0});var h=L(o);i=Y(h,"Mistake delay (ms)"),h.forEach(b),g.forEach(b),this.h()},h(){f(t,"id","mistake-delay-setting"),f(t,"type","number"),f(t,"min","0"),f(t,"step","10"),f(t,"max","2000"),t.required=!0,f(t,"class","svelte-fjklk8"),f(o,"for","mistake-delay-setting"),f(o,"class","svelte-fjklk8"),f(e,"class","svelte-fjklk8")},m(_,g){N(_,e,g),m(e,t),Ne(t,n[1].mistakeDelayMs),m(e,r),m(e,o),m(o,i),a=!0,l||(u=W(t,"input",n[16]),l=!0)},p(_,g){n=_,g[0]&2&&Xt(t.value)!==n[1].mistakeDelayMs&&Ne(t,n[1].mistakeDelayMs)},i(_){a||(zn(()=>{s||(s=xe(e,rt,{duration:150,easing:nt},!0)),s.run(1)}),a=!0)},o(_){s||(s=xe(e,rt,{duration:150,easing:nt},!1)),s.run(0),a=!1},d(_){_&&b(e),_&&s&&s.end(),l=!1,u()}}}function go(n){let e;return{c(){e=U("Put incorrect answers back in queue")},l(t){e=Y(t,"Put incorrect answers back in queue")},m(t,r){N(t,e,r)},d(t){t&&b(e)}}}function vo(n){let e;return{c(){e=U('Show an "X" if input does not match answer')},l(t){e=Y(t,'Show an "X" if input does not match answer')},m(t,r){N(t,e,r)},d(t){t&&b(e)}}}function _o(n){let e;return{c(){e=U("Show progress bar")},l(t){e=Y(t,"Show progress bar")},m(t,r){N(t,e,r)},d(t){t&&b(e)}}}function bo(n){let e;return{c(){e=U("Confetti on correct answer")},l(t){e=Y(t,"Confetti on correct answer")},m(t,r){N(t,e,r)},d(t){t&&b(e)}}}function ko(n){let e,t=n[8][0].toUpperCase()+n[8].slice(1)+"",r,o;return{c(){e=U("System ("),r=U(t),o=U(")")},l(i){e=Y(i,"System ("),r=Y(i,t),o=Y(i,")")},m(i,s){N(i,e,s),N(i,r,s),N(i,o,s)},p(i,s){s[0]&256&&t!==(t=i[8][0].toUpperCase()+i[8].slice(1)+"")&&st(r,t)},d(i){i&&b(e),i&&b(r),i&&b(o)}}}function wo(n){let e;return{c(){e=U("Light")},l(t){e=Y(t,"Light")},m(t,r){N(t,e,r)},d(t){t&&b(e)}}}function zo(n){let e;return{c(){e=U("Dark")},l(t){e=Y(t,"Dark")},m(t,r){N(t,e,r)},d(t){t&&b(e)}}}function $o(n){let e;return{c(){e=U("Reset all saved data after closing settings")},l(t){e=Y(t,"Reset all saved data after closing settings")},m(t,r){N(t,e,r)},d(t){t&&b(e)}}}function yo(n){let e,t,r;return e=new pe({props:{path:En,size:"1.25em"}}),{c(){O(e.$$.fragment),t=U(`\r
					Done`)},l(o){V(e.$$.fragment,o),t=Y(o,`\r
					Done`)},m(o,i){R(e,o,i),N(o,t,i),r=!0},p:Ke,i(o){r||(E(e.$$.fragment,o),r=!0)},o(o){A(e.$$.fragment,o),r=!1},d(o){H(e,o),o&&b(t)}}}function Eo(n){let e,t,r;return t=new Cr({props:{type:"submit",$$slots:{default:[yo]},$$scope:{ctx:n}}}),{c(){e=T("div"),O(t.$$.fragment),this.h()},l(o){e=I(o,"DIV",{class:!0});var i=L(e);V(t.$$.fragment,i),i.forEach(b),this.h()},h(){f(e,"class","menu svelte-fjklk8")},m(o,i){N(o,e,i),R(t,e,null),r=!0},p(o,i){const s={};i[1]&1&&(s.$$scope={dirty:i,ctx:o}),t.$set(s)},i(o){r||(E(t.$$.fragment,o),r=!0)},o(o){A(t.$$.fragment,o),r=!1},d(o){o&&b(e),H(t)}}}function qo(n){let e,t,r,o,i,s,a,l,u,_,g,h,k,$,y,S,M,X,p,z,d,Q,F,v,q,x,ne,D,ae,ge,oe,$e,ye,w,ft,dt,We,mt,Se,ht,pt,ie,Ae,gt,vt,ce,_t,bt,fe,kt,wt,de,zt,$t,Fe,yt,Te,Et,qt,Ee,Ct,St,ve,le,At,Tt,It,ue,Mt,Dt,Ge,jt,Ie,Pt,Bt,me,Lt,Ot,_e,Je;function An(c){n[13](c)}let Yt={id:"auto-commit-disabled-choice",name:"auto-commit-choice",value:"disabled",$$slots:{default:[mo]},$$scope:{ctx:n}};n[1].autoCommit!==void 0&&(Yt.group=n[1].autoCommit),y=new Ve({props:Yt}),K.push(()=>J(y,"group",An));function Tn(c){n[14](c)}let Kt={id:"auto-commit-forgiving-choice",name:"auto-commit-choice",value:"forgiving",$$slots:{default:[ho]},$$scope:{ctx:n}};n[1].autoCommit!==void 0&&(Kt.group=n[1].autoCommit),X=new Ve({props:Kt}),K.push(()=>J(X,"group",Tn));function In(c){n[15](c)}let Wt={id:"auto-commit-strict-choice",name:"auto-commit-choice",value:"strict",$$slots:{default:[po]},$$scope:{ctx:n}};n[1].autoCommit!==void 0&&(Wt.group=n[1].autoCommit),d=new Ve({props:Wt}),K.push(()=>J(d,"group",In));let G=n[1].autoCommit==="strict"&&kn(n);function Mn(c){n[17](c)}let Ft={id:"retry-incorrect-answers-setting",$$slots:{default:[go]},$$scope:{ctx:n}};n[1].retryIncorrectAnswers!==void 0&&(Ft.checked=n[1].retryIncorrectAnswers),q=new Xe({props:Ft}),K.push(()=>J(q,"checked",Mn));function Dn(c){n[18](c)}let Gt={id:"error-marker-setting",$$slots:{default:[vo]},$$scope:{ctx:n}};n[1].showErrorMarker!==void 0&&(Gt.checked=n[1].showErrorMarker),D=new Xe({props:Gt}),K.push(()=>J(D,"checked",Dn));function jn(c){n[19](c)}let Jt={id:"progress-bar-setting",$$slots:{default:[_o]},$$scope:{ctx:n}};n[1].showProgressBar!==void 0&&(Jt.checked=n[1].showProgressBar),oe=new Xe({props:Jt}),K.push(()=>J(oe,"checked",jn));function Pn(c){n[20](c)}let Zt={id:"confetti-setting",$$slots:{default:[bo]},$$scope:{ctx:n}};n[1].confetti!==void 0&&(Zt.checked=n[1].confetti),w=new Xe({props:Zt}),K.push(()=>J(w,"checked",Pn));function Bn(c){n[21](c)}let xt={id:"same-as-system-theme-choice",name:"theme-choice",value:"same-as-system",$$slots:{default:[ko]},$$scope:{ctx:n}};n[1].theme!==void 0&&(xt.group=n[1].theme),ce=new Ve({props:xt}),K.push(()=>J(ce,"group",Bn));function Ln(c){n[22](c)}let en={id:"light-theme-choice",name:"theme-choice",value:"light",$$slots:{default:[wo]},$$scope:{ctx:n}};n[1].theme!==void 0&&(en.group=n[1].theme),fe=new Ve({props:en}),K.push(()=>J(fe,"group",Ln));function On(c){n[23](c)}let tn={id:"dark-theme-choice",name:"theme-choice",value:"dark",$$slots:{default:[zo]},$$scope:{ctx:n}};n[1].theme!==void 0&&(tn.group=n[1].theme),de=new Ve({props:tn}),K.push(()=>J(de,"group",On));function Vn(c){n[24](c)}function Rn(c){n[25](c)}let Vt={title:"Volume icon",color:n[4],size:"1.5em",ariaHidden:!0};n[2]!==void 0&&(Vt.path=n[2]),n[3]!==void 0&&(Vt.viewBox=n[3]),le=new pe({props:Vt}),K.push(()=>J(le,"path",Vn)),K.push(()=>J(le,"viewBox",Rn));function Hn(c){n[26](c)}let nn={id:"audio-volume-setting",min:0,max:150,tooltip:"[value]%",width:"12rem"};n[1].volume!==void 0&&(nn.value=n[1].volume),ue=new Zr({props:nn}),K.push(()=>J(ue,"value",Hn)),ue.$on("input",n[9]);function Nn(c){n[27](c)}let rn={id:"reset-on-close-setting",$$slots:{default:[$o]},$$scope:{ctx:n}};return n[7]!==void 0&&(rn.checked=n[7]),me=new Xe({props:rn}),K.push(()=>J(me,"checked",Nn)),_e=new ur({props:{class:"content-padding glass-morphism contrast",$$slots:{default:[Eo]},$$scope:{ctx:n}}}),{c(){e=T("form"),t=T("div"),r=T("h1"),o=U("Settings"),i=j(),s=T("hr"),a=j(),l=T("h2"),u=U("Quiz"),_=j(),g=T("fieldset"),h=T("legend"),k=U("Auto submit"),$=j(),O(y.$$.fragment),M=j(),O(X.$$.fragment),z=j(),O(d.$$.fragment),F=j(),G&&G.c(),v=j(),O(q.$$.fragment),ne=j(),O(D.$$.fragment),ge=j(),O(oe.$$.fragment),ye=j(),O(w.$$.fragment),dt=j(),We=T("hr"),mt=j(),Se=T("h2"),ht=U("Appearance"),pt=j(),ie=T("fieldset"),Ae=T("legend"),gt=U("Theme"),vt=j(),O(ce.$$.fragment),bt=j(),O(fe.$$.fragment),wt=j(),O(de.$$.fragment),$t=j(),Fe=T("hr"),yt=j(),Te=T("h2"),Et=U("Audio"),qt=j(),Ee=T("label"),Ct=U("Volume (%)"),St=j(),ve=T("div"),O(le.$$.fragment),It=j(),O(ue.$$.fragment),Dt=j(),Ge=T("hr"),jt=j(),Ie=T("h2"),Pt=U("Danger zone"),Bt=j(),O(me.$$.fragment),Ot=j(),O(_e.$$.fragment),this.h()},l(c){e=I(c,"FORM",{method:!0,class:!0});var C=L(e);t=I(C,"DIV",{class:!0});var B=L(t);r=I(B,"H1",{id:!0,class:!0});var Me=L(r);o=Y(Me,"Settings"),Me.forEach(b),i=P(B),s=I(B,"HR",{class:!0}),a=P(B),l=I(B,"H2",{class:!0});var De=L(l);u=Y(De,"Quiz"),De.forEach(b),_=P(B),g=I(B,"FIELDSET",{class:!0});var re=L(g);h=I(re,"LEGEND",{class:!0});var je=L(h);k=Y(je,"Auto submit"),je.forEach(b),$=P(re),V(y.$$.fragment,re),M=P(re),V(X.$$.fragment,re),z=P(re),V(d.$$.fragment,re),F=P(re),G&&G.l(re),re.forEach(b),v=P(B),V(q.$$.fragment,B),ne=P(B),V(D.$$.fragment,B),ge=P(B),V(oe.$$.fragment,B),ye=P(B),V(w.$$.fragment,B),dt=P(B),We=I(B,"HR",{class:!0}),mt=P(B),Se=I(B,"H2",{class:!0});var Pe=L(Se);ht=Y(Pe,"Appearance"),Pe.forEach(b),pt=P(B),ie=I(B,"FIELDSET",{class:!0});var se=L(ie);Ae=I(se,"LEGEND",{class:!0});var Be=L(Ae);gt=Y(Be,"Theme"),Be.forEach(b),vt=P(se),V(ce.$$.fragment,se),bt=P(se),V(fe.$$.fragment,se),wt=P(se),V(de.$$.fragment,se),se.forEach(b),$t=P(B),Fe=I(B,"HR",{class:!0}),yt=P(B),Te=I(B,"H2",{class:!0});var Le=L(Te);Et=Y(Le,"Audio"),Le.forEach(b),qt=P(B),Ee=I(B,"LABEL",{for:!0,class:!0});var Oe=L(Ee);Ct=Y(Oe,"Volume (%)"),Oe.forEach(b),St=P(B),ve=I(B,"DIV",{class:!0});var he=L(ve);V(le.$$.fragment,he),It=P(he),V(ue.$$.fragment,he),he.forEach(b),Dt=P(B),Ge=I(B,"HR",{class:!0}),jt=P(B),Ie=I(B,"H2",{class:!0});var Qe=L(Ie);Pt=Y(Qe,"Danger zone"),Qe.forEach(b),Bt=P(B),V(me.$$.fragment,B),B.forEach(b),Ot=P(C),V(_e.$$.fragment,C),C.forEach(b),this.h()},h(){f(r,"id","settings-heading"),f(r,"class","svelte-fjklk8"),f(s,"class","svelte-fjklk8"),f(l,"class","svelte-fjklk8"),f(h,"class","svelte-fjklk8"),f(g,"class","svelte-fjklk8"),f(We,"class","svelte-fjklk8"),f(Se,"class","svelte-fjklk8"),f(Ae,"class","svelte-fjklk8"),f(ie,"class","svelte-fjklk8"),f(Fe,"class","svelte-fjklk8"),f(Te,"class","svelte-fjklk8"),f(Ee,"for","audio-volume-setting"),f(Ee,"class","sr-only svelte-fjklk8"),f(ve,"class","volume-slider svelte-fjklk8"),f(Ge,"class","svelte-fjklk8"),f(Ie,"class","svelte-fjklk8"),f(t,"class","content-padding svelte-fjklk8"),f(e,"method","dialog"),f(e,"class","content-width svelte-fjklk8")},m(c,C){N(c,e,C),m(e,t),m(t,r),m(r,o),m(t,i),m(t,s),m(t,a),m(t,l),m(l,u),m(t,_),m(t,g),m(g,h),m(h,k),m(g,$),R(y,g,null),m(g,M),R(X,g,null),m(g,z),R(d,g,null),m(g,F),G&&G.m(g,null),m(t,v),R(q,t,null),m(t,ne),R(D,t,null),m(t,ge),R(oe,t,null),m(t,ye),R(w,t,null),m(t,dt),m(t,We),m(t,mt),m(t,Se),m(Se,ht),m(t,pt),m(t,ie),m(ie,Ae),m(Ae,gt),m(ie,vt),R(ce,ie,null),m(ie,bt),R(fe,ie,null),m(ie,wt),R(de,ie,null),m(t,$t),m(t,Fe),m(t,yt),m(t,Te),m(Te,Et),m(t,qt),m(t,Ee),m(Ee,Ct),m(t,St),m(t,ve),R(le,ve,null),m(ve,It),R(ue,ve,null),m(t,Dt),m(t,Ge),m(t,jt),m(t,Ie),m(Ie,Pt),m(t,Bt),R(me,t,null),m(e,Ot),R(_e,e,null),Je=!0},p(c,C){const B={};C[1]&1&&(B.$$scope={dirty:C,ctx:c}),!S&&C[0]&2&&(S=!0,B.group=c[1].autoCommit,Z(()=>S=!1)),y.$set(B);const Me={};C[1]&1&&(Me.$$scope={dirty:C,ctx:c}),!p&&C[0]&2&&(p=!0,Me.group=c[1].autoCommit,Z(()=>p=!1)),X.$set(Me);const De={};C[1]&1&&(De.$$scope={dirty:C,ctx:c}),!Q&&C[0]&2&&(Q=!0,De.group=c[1].autoCommit,Z(()=>Q=!1)),d.$set(De),c[1].autoCommit==="strict"?G?(G.p(c,C),C[0]&2&&E(G,1)):(G=kn(c),G.c(),E(G,1),G.m(g,null)):G&&(Re(),A(G,1,1,()=>{G=null}),He());const re={};C[1]&1&&(re.$$scope={dirty:C,ctx:c}),!x&&C[0]&2&&(x=!0,re.checked=c[1].retryIncorrectAnswers,Z(()=>x=!1)),q.$set(re);const je={};C[1]&1&&(je.$$scope={dirty:C,ctx:c}),!ae&&C[0]&2&&(ae=!0,je.checked=c[1].showErrorMarker,Z(()=>ae=!1)),D.$set(je);const Pe={};C[1]&1&&(Pe.$$scope={dirty:C,ctx:c}),!$e&&C[0]&2&&($e=!0,Pe.checked=c[1].showProgressBar,Z(()=>$e=!1)),oe.$set(Pe);const se={};C[1]&1&&(se.$$scope={dirty:C,ctx:c}),!ft&&C[0]&2&&(ft=!0,se.checked=c[1].confetti,Z(()=>ft=!1)),w.$set(se);const Be={};C[0]&256|C[1]&1&&(Be.$$scope={dirty:C,ctx:c}),!_t&&C[0]&2&&(_t=!0,Be.group=c[1].theme,Z(()=>_t=!1)),ce.$set(Be);const Le={};C[1]&1&&(Le.$$scope={dirty:C,ctx:c}),!kt&&C[0]&2&&(kt=!0,Le.group=c[1].theme,Z(()=>kt=!1)),fe.$set(Le);const Oe={};C[1]&1&&(Oe.$$scope={dirty:C,ctx:c}),!zt&&C[0]&2&&(zt=!0,Oe.group=c[1].theme,Z(()=>zt=!1)),de.$set(Oe);const he={};C[0]&16&&(he.color=c[4]),!At&&C[0]&4&&(At=!0,he.path=c[2],Z(()=>At=!1)),!Tt&&C[0]&8&&(Tt=!0,he.viewBox=c[3],Z(()=>Tt=!1)),le.$set(he);const Qe={};!Mt&&C[0]&2&&(Mt=!0,Qe.value=c[1].volume,Z(()=>Mt=!1)),ue.$set(Qe);const Rt={};C[1]&1&&(Rt.$$scope={dirty:C,ctx:c}),!Lt&&C[0]&128&&(Lt=!0,Rt.checked=c[7],Z(()=>Lt=!1)),me.$set(Rt);const on={};C[1]&1&&(on.$$scope={dirty:C,ctx:c}),_e.$set(on)},i(c){Je||(E(y.$$.fragment,c),E(X.$$.fragment,c),E(d.$$.fragment,c),E(G),E(q.$$.fragment,c),E(D.$$.fragment,c),E(oe.$$.fragment,c),E(w.$$.fragment,c),E(ce.$$.fragment,c),E(fe.$$.fragment,c),E(de.$$.fragment,c),E(le.$$.fragment,c),E(ue.$$.fragment,c),E(me.$$.fragment,c),E(_e.$$.fragment,c),Je=!0)},o(c){A(y.$$.fragment,c),A(X.$$.fragment,c),A(d.$$.fragment,c),A(G),A(q.$$.fragment,c),A(D.$$.fragment,c),A(oe.$$.fragment,c),A(w.$$.fragment,c),A(ce.$$.fragment,c),A(fe.$$.fragment,c),A(de.$$.fragment,c),A(le.$$.fragment,c),A(ue.$$.fragment,c),A(me.$$.fragment,c),A(_e.$$.fragment,c),Je=!1},d(c){c&&b(e),H(y),H(X),H(d),G&&G.d(),H(q),H(D),H(oe),H(w),H(ce),H(fe),H(de),H(le),H(ue),H(me),H(_e)}}}function Co(n){let e,t,r,o,i;function s(l){n[29](l)}let a={$$slots:{default:[qo]},$$scope:{ctx:n}};return n[6]!==void 0&&(a.open=n[6]),e=new fo({props:a}),n[28](e),K.push(()=>J(e,"open",s)),e.$on("clickoutside",n[0]),e.$on("close",n[10]),{c(){O(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,u){R(e,l,u),r=!0,o||(i=W(window,"popstate",n[11]),o=!0)},p(l,u){const _={};u[0]&414|u[1]&1&&(_.$$scope={dirty:u,ctx:l}),!t&&u[0]&64&&(t=!0,_.open=l[6],Z(()=>t=!1)),e.$set(_)},i(l){r||(E(e.$$.fragment,l),r=!0)},o(l){A(e.$$.fragment,l),r=!1},d(l){n[28](null),H(e,l),o=!1,i()}}}function So(n,e,t){let r,o,i;qe(n,ee,w=>t(1,r=w)),qe(n,Sr,w=>t(30,o=w)),qe(n,Ar,w=>t(8,i=w));let s,a,l,u,_,g=!1;const h=sr(cr,80);function k(w=!1){u.showModal(),!w&&ar(),location.hash!=="#settings"&&Qt(o.url.pathname+"#settings")}function $(){u.close()}function y(){lr(),g?(localStorage.clear(),sessionStorage.clear(),location.href="/"):location.hash==="#settings"&&Qt(o.url.pathname)}function S(){location.hash==="#settings"?k():_&&$()}ut(async()=>{ir(),location.hash==="#settings"&&k(!0)});function M(w){n.$$.not_equal(r.autoCommit,w)&&(r.autoCommit=w,ee.set(r))}function X(w){n.$$.not_equal(r.autoCommit,w)&&(r.autoCommit=w,ee.set(r))}function p(w){n.$$.not_equal(r.autoCommit,w)&&(r.autoCommit=w,ee.set(r))}function z(){r.mistakeDelayMs=Xt(this.value),ee.set(r)}function d(w){n.$$.not_equal(r.retryIncorrectAnswers,w)&&(r.retryIncorrectAnswers=w,ee.set(r))}function Q(w){n.$$.not_equal(r.showErrorMarker,w)&&(r.showErrorMarker=w,ee.set(r))}function F(w){n.$$.not_equal(r.showProgressBar,w)&&(r.showProgressBar=w,ee.set(r))}function v(w){n.$$.not_equal(r.confetti,w)&&(r.confetti=w,ee.set(r))}function q(w){n.$$.not_equal(r.theme,w)&&(r.theme=w,ee.set(r))}function x(w){n.$$.not_equal(r.theme,w)&&(r.theme=w,ee.set(r))}function ne(w){n.$$.not_equal(r.theme,w)&&(r.theme=w,ee.set(r))}function D(w){s=w,t(2,s),t(1,r)}function ae(w){a=w,t(3,a),t(1,r)}function ge(w){n.$$.not_equal(r.volume,w)&&(r.volume=w,ee.set(r))}function oe(w){g=w,t(7,g)}function $e(w){K[w?"unshift":"push"](()=>{u=w,t(5,u)})}function ye(w){_=w,t(6,_)}return n.$$.update=()=>{if(n.$$.dirty[0]&2){const w=r.volume;w===0?(t(2,s=yr),t(3,a="0 0 24 24"),t(4,l="var(--highlight-color)")):w<50?(t(2,s=Er),t(3,a="2 0 24 24"),t(4,l="currentColor")):w>=50&&(t(2,s=qr),t(3,a="0 0 24 24"),t(4,l="currentColor"))}},[$,r,s,a,l,u,_,g,i,h,y,S,k,M,X,p,z,d,Q,F,v,q,x,ne,D,ae,ge,oe,$e,ye]}class Ao extends ke{constructor(e){super(),we(this,e,So,Co,ze,{show:12,close:0},null,[-1,-1])}get show(){return this.$$.ctx[12]}get close(){return this.$$.ctx[0]}}const{document:wn,window:To}=tr;function Io(n){var F;let e,t,r,o,i,s,a,l,u,_,g,h,k,$,y,S;t=new Ir({});function M(v){n[11](v)}let X={unquizzed:n[0],quizzed:n[6],input:n[2]};n[4]!==void 0&&(X.lastQuizzedElement=n[4]),o=new Vr({props:X}),K.push(()=>J(o,"lastQuizzedElement",M));function p(v){n[12](v)}function z(v){n[13](v)}let d={currentKana:(F=n[5])==null?void 0:F.kana};n[2]!==void 0&&(d.input=n[2]),n[3]!==void 0&&(d.inputElement=n[3]),a=new Yr({props:d}),K.push(()=>J(a,"input",p)),K.push(()=>J(a,"inputElement",z)),a.$on("submit",n[8]),g=new Fr({}),g.$on("menuEvent",n[7]);let Q={};return k=new Ao({props:Q}),n[14](k),{c(){e=j(),O(t.$$.fragment),r=j(),O(o.$$.fragment),s=j(),O(a.$$.fragment),_=j(),O(g.$$.fragment),h=j(),O(k.$$.fragment),this.h()},l(v){er('[data-svelte="svelte-xkzmh0"]',wn.head).forEach(b),e=P(v),V(t.$$.fragment,v),r=P(v),V(o.$$.fragment,v),s=P(v),V(a.$$.fragment,v),_=P(v),V(g.$$.fragment,v),h=P(v),V(k.$$.fragment,v),this.h()},h(){wn.title="Session \xB7 Type Kana"},m(v,q){N(v,e,q),R(t,v,q),N(v,r,q),R(o,v,q),N(v,s,q),R(a,v,q),N(v,_,q),R(g,v,q),N(v,h,q),R(k,v,q),$=!0,y||(S=W(To,"keydown",n[9]),y=!0)},p(v,[q]){var ae;const x={};q&1&&(x.unquizzed=v[0]),q&64&&(x.quizzed=v[6]),q&4&&(x.input=v[2]),!i&&q&16&&(i=!0,x.lastQuizzedElement=v[4],Z(()=>i=!1)),o.$set(x);const ne={};q&32&&(ne.currentKana=(ae=v[5])==null?void 0:ae.kana),!l&&q&4&&(l=!0,ne.input=v[2],Z(()=>l=!1)),!u&&q&8&&(u=!0,ne.inputElement=v[3],Z(()=>u=!1)),a.$set(ne);const D={};k.$set(D)},i(v){$||(E(t.$$.fragment,v),E(o.$$.fragment,v),E(a.$$.fragment,v),E(g.$$.fragment,v),E(k.$$.fragment,v),$=!0)},o(v){A(t.$$.fragment,v),A(o.$$.fragment,v),A(a.$$.fragment,v),A(g.$$.fragment,v),A(k.$$.fragment,v),$=!1},d(v){v&&b(e),H(t,v),v&&b(r),H(o,v),v&&b(s),H(a,v),v&&b(_),H(g,v),v&&b(h),n[14](null),H(k,v),y=!1,S()}}}const Mo=/^[a-z0-9]+$/i;function Do(n,e,t){let r,o,i,s,a;qe(n,ee,d=>t(16,s=d)),qe(n,Ze,d=>t(10,a=d));let l,u,_=0,g,h;function k(d){switch(d.detail.type){case"openSettings":l.show();break;case"restart":Ze.reset();break}}function $(){if(!s.confetti)return;const{y:d,x:Q,height:F,width:v}=h.getBoundingClientRect(),q=d+F/2+20*window.devicePixelRatio,x=Q+v/2;Mr({y:q,x},{gravity:1,spread:70,particleCount:6,startVelocity:10,ticks:25,decay:.9})}async function y(d){if(!i)return;const Q=d.detail.input,F=tt(Q,i.kana);F?(pr(_),_+=1):(gr(),_=0);Ze.insert(r.length-1,i),Ze.pop(q=>Nt(Ht({},q),{answered:Q,isCorrectAnswer:tt(Q,q.kana)})),r.length<5&&(xr("summary"),yn()),await nr(),F&&$()}function S(d){d.isComposing||document.activeElement!==g&&d.key!==" "&&d.key.length===1&&Mo.test(d.key)&&g.focus()}ut(()=>{fr(),dr(),mr(),hr()});function M(d){h=d,t(4,h)}function X(d){u=d,t(2,u)}function p(d){g=d,t(3,g)}function z(d){K[d?"unshift":"push"](()=>{l=d,t(1,l)})}return n.$$.update=()=>{n.$$.dirty&1024&&t(0,r=a.unquizzed),n.$$.dirty&1024&&t(6,o=a.quizzed),n.$$.dirty&1&&t(5,i=r[0]),n.$$.dirty&1&&r.length===0&&setTimeout(()=>Qt("summary"),500)},[r,l,u,g,h,i,o,k,y,S,a,M,X,p,z]}class Uo extends ke{constructor(e){super(),we(this,e,Do,Io,ze,{})}}export{Uo as default};
